
<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js" >  </script>
<script src="http://code.jquery.com/jquery-1.10.2.js" >  </script>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js" >  </script>
<script src="https://rawgithub.com/padolsey/prettyprint.js/master/prettyprint.js" >  </script>
<script src="https://rawgithub.com/epeli/underscore.string/master/lib/underscore.string.js" >  </script>
<script src="https://rawgithub.com/patricklodder/jquery-zclip/master/jquery.zclip.js" >  </script>


<script src="http://warfares.github.io/pretty-json/libs/underscore-min.js" >  </script>
<script src="http://warfares.github.io/pretty-json/libs/backbone-min.js" >  </script>
<script src="http://warfares.github.io/pretty-json/pretty-json-min.js" >  </script>



<link rel="stylesheet"  type="text/css" href="http://code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css" />
<link rel="stylesheet"  type="text/css" href="http://fonts.googleapis.com/css?family=Quicksand" />
<link rel="stylesheet"  type="text/css" href="http://warfares.github.io/pretty-json/css/pretty-json.css" />




<style>
body, p, td, pre,  button {
font-size: 14pt; }

input, textarea {
font-size: 12pt; }

body {
background-color:lightyellow;
counter-reset: section subsection figure;}

h1 {
text-align:center }

h2 {
counter-increment: section; }

h3 {
counter-increment: subsection; }

h4 {
counter-increment: figure; }

h2:before {
content:counter(section) ". "; }

h3:before {
content:counter(section) "." counter(subsection) " "; }

h4:before{
content:"Fig. " counter(section) "." counter(figure) " - ";}

.reset {
counter-reset:subsection figure;}

.nav-bar{
list-style-type:none;
margin:0;
padding:0; }

img {
margin-left: 10pt;
border: thin solid gray; }

.sample {
background-color: black;
font-size: 12pt;
color:white;
padding: 4pt;
margin-left: 10pt;
margin-right: 30pt;
display: block;
white-space: pre-line;}

.code {
white-space: pre-line;}

.block {
overflow:scroll; }

.code, .block {
padding: 4pt;
font-size: 12pt;
background-color: whitesmoke;
border: thin dotted gray;
margin-left: 10pt;
margin-right: 30pt;
display: block;}

.author {
font-size: 16pt;
text-align:center;}


/*  grid tables  */
table.g {
margin: 8px;
border-width: 1px;
border-color: gray;
border-collapse: collapse; }

table.g th {
border-width: 1px;
padding: 8px 8px 8px 8px;
border-style: solid;
border-color: gray;
background-color: lightyellow; }

table.g td {
text-align:center;
border-width: 1px;
padding: 8px 8px 8px 8px;
border-style:solid;
border-color: gray;
background-color: #ffffff; }

/*  vertical tables  */
table.v {
margin: 8px;
border-collapse: collapse; }

table.v thead {
border-right: 10px solid;
border-left: 10px solid;
background: #fc9;
border-color: #fc9;}

table.v th {
padding: 4px 20px 4px 20px;
border: 1px #fff solid; }

table.v tbody{
text-align:left;
border-right: 10px solid;
border-left: 10px solid;
border-color: #adf;
background: #adf;
vertical-align: top; }

table.v td {
padding:  4px 20px 4px 20px;
border: 1px #fff solid; }

/*  horizontal tables  */
table.h {
margin: 8px;
border-collapse:collapse; }

table.h th {
padding:  4px 40px 4px 40px;
border:1px solid #98bf21;
background-color:#A7C942;
color:#fff; }

table.h td {
text-align:center;
border:1px solid #98bf21;
padding: 4px 40px 4px 40px; }

table.h tr.alt td {
color:#000;
background-color:#EAF2D3; }
/**
http://learnlayout.com/inline-block.html
http://www.w3schools.com/cssref/css_colornames.asp
**/

div.link {
display: inline-block;
width: 80px;
height: 100px;
position: relative;
text-align:center;
vertical-align: middle; }

div.black {
border-color: Black ;
border-width: 2px; }

div.black span.h {
background-color: Black       ;
color: Snow ;  }

div.white {
border-color: Lavender  ;
border-width: 2px; }

div.white span.h {
background-color: Snow       ;
color: Black ; }

div.red {  border-color: HotPink }

div.red span.h {
background-color: HotPink;
color: LightCyan;         }

div.yellow { border-color: GoldenRod  }

div.yellow span.h {
background-color: GoldenRod    ;
color: Azure ;         }

div.blue { border-color: DodgerBlue }

div.blue span.h {
background-color: DodgerBlue     ;
color: Snow ;  }

div.green { border-color: ForestGreen }

div.green span.h {
background-color: MediumSeaGreen    ;
color: Ivory   ; }

div.box {
display: inline-block;
width: 200px;
height: 100px;
margin: 8px;
border-style:solid;
border-width: 1.5px;
position: relative;
text-align:center;
vertical-align: middle;  }

div.box span.h {
top: 0;
left: 0;
right: 0;
text-align:left;
padding: 1px 2px 2px 1px;
position: absolute;
font-weight:bold;
line-height: 1em;  }


.button-green, .button-red, .button-orange, .button-blue, button-grey {
    color: white;
    border-radius: 4px;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2); }

.button-green {
    background: rgb(28, 184, 65); }

.button-red {
    background: rgb(202, 60, 60); }

.button-orange {
    background: rgb(223, 117, 20); }

.button-blue {
    background: rgb(66, 184, 221); }

.button-grey {
    background: rgba(255, 255, 255, 0.69); }

/**
http://learnlayout.com/inline-block.html
http://www.scientificpsychic.com/etc/css-mouseover.html
**/

span.dropt {border-bottom: thin dotted; background: #ffeedd;}
span.dropt:hover {text-decoration: none; background: #ffffff; z-index: 6; }
span.dropt span {position: absolute; left: -9999px;
margin: 20px 0 0 0px; padding: 3px 3px 3px 3px;
border-style:solid; border-color:black; border-width:1px; z-index: 6;}
span.dropt:hover span {left: 2%; background: #ffffff;}
span.dropt span {position: absolute; left: -9999px;
margin: 4px 0 0 0px; padding: 3px 3px 3px 3px;
border-style:solid; border-color:black; border-width:1px;}
span.dropt:hover span {margin: 20px 0 0 170px; background: #ffffff; z-index:6;}

</style>
<!--
<style>
    /* Pure CSS Tooltips */
    span.info{
    position:relative; /*this is the key*/
    z-index:24;
    }
    span.info:hover{
    z-index:25;
    background-color:#ff0
    }
    span.info span{
    display:none
    }
    span.info:hover span{ /*the span will display just on :hover state*/
    display:block;
    position:absolute;
    top:1em;
    left:1em;
    border:1px solid #ccc;
    background-color: #666;
    color:#eee;
    text-align:left;
    padding:6px;
    }
    span.info2{
    position:relative; /*this is the key*/
    z-index:24;
    }
    span.info2:hover{
    z-index:25;
    background-color:#ff0
    }
    span.info2 span{
    display:none
    }
    span.info2:hover span{ /*the span will display just on :hover state*/
    display:block;
    position:absolute;
    top:1em;
    left:1em;
    border:1px solid #ddd;
    background-color: #bcc;
    color:#eee;
    text-align:left;
    padding:6px;
    }

    span.paramInfo{
    position:relative; /*this is the key*/
    z-index:24;
    }
    span.paramInfo:hover{
    z-index:25;
    background-color:#ff0
    }
    span.paramInfo span{
    display:none
    }
    span.paramInfo:hover span{ /*the span will display just on :hover state*/
    display:block;
    position:absolute;
    top:1em;
    left:1em;
    width: 10em;
    border:1px solid #ccc;
    background-color: #666;
    color:#eee;
    text-align:left;
    padding:6px;
    }


    form {
    margin: 0px; }

    textarea{
    vertical-align: bottom;
    }

    .resPanel{
    border: thin solid;
    overflow: scroll;
    }

</style>


<script type="text/javascript">

function escapeHTML(str) {
  return str.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
}
function loadSample(id, sn, mn, sample){
  var span = $("#" + id);
  if(span.html() == "loading...")
    span.html("<iframe src='" + document.URL + "/" + sn + "?method=" + mn + "&sample=" + sample + "'></iframe>");
}
var ppcfg = {maxArray: 1000, maxDepth: 100, maxStringLength: 1024,
  styles: {
    array: { th:{ backgroundColor: '#CDED9A', color: '#0', "text-align": "center" } },
    'function': { th: { backgroundColor: '#D82525' } },
    regexp: { th: { backgroundColor: '#E2F3FB', color: '#000' } },
    object: { th: { backgroundColor: '#BFC6FF'/*'#1F96CF'*/, color: '#0', "text-align": "center" } },
    jquery : { th: { backgroundColor: '#FBF315' } },
    error: { th: { backgroundColor: 'red', color: 'yellow' } },
    domelement: { th: { backgroundColor: '#F3801E' } },
    date: { th: { backgroundColor: '#A725D8' } },
    colHeader: { th: { backgroundColor: '#FFFFFF'/*'#EEE'*/, color: '#000', textTransform: 'uppercase', display: "none" } },
  } };
//*
function invokeMethod(fn, text, sn, mn){
  var f = document.getElementById(fn);
  var n = f.elements.length;
  var s = "";
  for(i = 0; i < n; i++){
    var e = f.elements[i];
    if(s.length > 0){
      s += ",";
    }
    var v = e.value;
    if(v[0] == '{' || v[0] == '['){
      s += v;
    } else{
      s += '"' + e.value.replace(/\"/g, "\\\"") + '"';
    }
  }
  var req = '{"method": "' + mn + '", "params": [' + s + ']}';
  var start = new Date();
  $.ajax({
    type: "POST",
    dataType: "text",
    url: document.URL + "/" + sn,
    data: req,
    success: function(data, dataType) {
      log = $("<div></div>");
      t = $("#" + text);
      if(t.children().length > 0){
        $("<hr/>").insertBefore(t.children(":first"));
        log.insertBefore(t.children(":first"));
      } else{
        t.append(log);
      }
      log.append("<b>" + start + ", " + (new Date().getTime() - start.getTime()) + "msec.</b>" +
        ' <span class="info">[RAW]<span>request:<br/>' + req + "<br/><br/>response:<br/>" + data +
        "</span></span><br/><b>request:</b><br/>");
      log.append($(prettyPrint(jQuery.parseJSON(req), ppcfg)));
      log.append("<b>response:</b><br/>");
      log.append($(prettyPrint(jQuery.parseJSON(data), ppcfg)));
//      log.css("display", "none");
//      log.show("slide", {direction: "up"}, 1000);
    },
    error: function(XMLHttpRequest, textStatus, errorThrown){
      var fb = "<font color=\"red\">";
      var fe = "</font>";
      $("#" + text).append(
        start + ", " + (new Date().getTime() - start.getTime()) + "msec.<br/>　request: " + escapeHTML(req) +
        "<br/>status: " +
        fb + escapeHTML(textStatus) + fe + "<br/>error: " + fb + escapeHTML(errorThrown) + fe + "</font><hr/>"
        );
    }
    });
}
/*/
function invokeMethod(fn, text, sn, mn){
  var f = document.getElementById(fn);
  var n = f.elements.length;
  var s = "";
  for(i = 0; i < n; i++){
    var e = f.elements[i];
    if(s.length > 0){
      s += ",";
    }
    var v = e.value;
    if(v[0] == '{' || v[0] == '['){
      s += v;
    } else{
      s += '"' + e.value.replace(/\"/g, "\\\"") + '"';
    }
  }
  var req = '{"method": "' + mn + '", "params": [' + s + ']}';
  var start = new Date();
  $.ajax({
    type: "POST",
    dataType: "text",
    url: document.URL + "/" + sn,
    data: req,
    success: function(data, dataType) {
      var e = data.indexOf('{"error":{"detail":"') == 0;
      var fb = e ? "<font color=\"red\">" : "";
      var fe = e ? "</font>" : "";
      $("#" + text).append(
        start + ", " + (new Date().getTime() - start.getTime()) + "msec.<br/>req: " + escapeHTML(req) +
        "<br/>res: " + fb + escapeHTML(data) + fe + "<hr/>"
        );
    },
    error: function(XMLHttpRequest, textStatus, errorThrown){
      var fb = "<font color=\"red\">";
      var fe = "</font>";
      $("#" + text).append(
        start + ", " + (new Date().getTime() - start.getTime()) + "msec.<br/>req: " + escapeHTML(req) +
        "<br/>status: " +
        fb + escapeHTML(textStatus) + fe + "<br/>error: " + fb + escapeHTML(errorThrown) + fe + "</font><hr/>"
        );
    }
    });
}
//*/
function clearLog(text){
  $("#" + text).html("");
}

function togglePanel(id){
  $("#" + id).toggle();
}
</script>


<script type="text/javascript">
window.onload = function() {
    $('input').each(function(){
    var value = $(this).val();
    var size  = value.length;
    // playing with the size attribute
    //$(this).attr('size',size);

    // playing css width
    size = size * 2; // average width of a char
    $(this).css('width',size * 3);
    })​;
 }
</script>
-->