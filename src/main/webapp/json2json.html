<!DOCTYPE html>
<html>
<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <title>Json2Json Tools</title>

    <!--<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.js" >  </script>-->
    <!--script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script-->

    <script type="text/javascript" src="http://code.jquery.com/jquery-2.0.1.js" >  </script>
    <script type="text/javascript" src="http://code.jquery.com/ui/1.10.4/jquery-ui.js" >  </script>


    <script type="text/javascript" src="https://rawgithub.com/padolsey/prettyprint.js/master/prettyprint.js" >  </script>
    <script type="text/javascript" src="https://raw.githubusercontent.com/epeli/underscore.string/master/dist/underscore.string.js" >  </script>
    <script type="text/javascript" src="https://rawgithub.com/patricklodder/jquery-zclip/master/jquery.zclip.js" >  </script>


    <script type="text/javascript" src="http://warfares.github.io/pretty-json/libs/underscore-min.js" >  </script>
    <script type="text/javascript" src="http://warfares.github.io/pretty-json/libs/backbone-min.js" >  </script>
    <script type="text/javascript" src="http://warfares.github.io/pretty-json/pretty-json-min.js" >  </script>


    <script type="text/javascript" src="https://rawgithub.com/digitalbazaar/jsonld.js/master/js/jsonld.js" >  </script>
    <script type="text/javascript" src="https://rawgithub.com/digitalbazaar/jsonld.js/master/js/rdfa.js" >  </script>
    <!--<script type="text/javascript" src="https://rawgithub.com/digitalbazaar/jsonld.js/master/js/request.js" >  </script>-->
    <script type="text/javascript" src="https://rawgithub.com/blatyo/jsonpath.js/master/jsonpath.js" >  </script>
    <!--<script type="text/javascript" src="https://rawgithub.com/douglascrockford/JSON-js/master/json.js" >  </script>-->

    <style>
    body, p, td, pre {
    font-size: 14pt; }

    body {
    counter-reset: section subsection figure;}

    h1 {
    text-align:center }

    h2 {
    counter-increment: section; }

    h3 {
    counter-increment: subsection; }

    h4 {
    counter-increment: figure; }

    h2:before {
    content:counter(section) ". "; }

    h3:before {
    content:counter(section) "." counter(subsection) " "; }

    h4:before{
    content:"Fig. " counter(section) "." counter(figure) " - ";}

    .reset {
    counter-reset:subsection figure;}

    .nav-bar{
    list-style-type:none;
    margin:0;
    padding:0; }

    img {
    margin-left: 10pt;
    border: thin solid gray; }

    .sample {
    background-color: black;
    font-size: 12pt;
    color:white;
    padding: 4pt;
    margin-left: 10pt;
    margin-right: 30pt;
    display: block;
    white-space: pre-line;}

    .code {
    padding: 4pt;
    font-size: 12pt;
    background-color: whitesmoke;
    border: thin dotted gray;
    margin-left: 10pt;
    margin-right: 30pt;
    display: block;
    white-space: pre-line;}

    .author {
    font-size: 16pt;
    text-align:center;}


    /*  grid tables  */
    table.g {
    margin: 8px;
    border-width: 1px;
    border-color: gray;
    border-collapse: collapse; }

    table.g th {
    border-width: 1px;
    padding: 8px 8px 8px 8px;
    border-style: solid;
    border-color: gray;
    background-color: lightyellow; }

    table.g td {
    text-align:center;
    border-width: 1px;
    padding: 8px 8px 8px 8px;
    border-style:solid;
    border-color: gray;
    background-color: #ffffff; }

    /*  vertical tables  */
    table.v {
    margin: 8px;
    border-collapse: collapse; }

    table.v thead {
    border-right: 10px solid;
    border-left: 10px solid;
    background: #fc9;
    border-color: #fc9;}

    table.v th {
    padding: 4px 20px 4px 20px;
    border: 1px #fff solid; }

    table.v tbody{
    text-align:left;
    border-right: 10px solid;
    border-left: 10px solid;
    border-color: #adf;
    background: #adf;
    vertical-align: top; }

    table.v td {
    padding:  4px 20px 4px 20px;
    border: 1px #fff solid; }

    /*  horizontal tables  */
    table.h {
    margin: 8px;
    border-collapse:collapse; }

    table.h th {
    padding:  4px 40px 4px 40px;
    border:1px solid #98bf21;
    background-color:#A7C942;
    color:#fff; }

    table.h td {
    text-align:center;
    border:1px solid #98bf21;
    padding: 4px 40px 4px 40px; }

    table.h tr.alt td {
    color:#000;
    background-color:#EAF2D3; }
    /**
    http://learnlayout.com/inline-block.html
    http://www.w3schools.com/cssref/css_colornames.asp
    **/

    div.link {
    display: inline-block;
    width: 80px;
    height: 100px;
    position: relative;
    text-align:center;
    vertical-align: middle; }

    div.black {
    border-color: Black ;
    border-width: 2px; }

    div.black span.h {
    background-color: Black       ;
    color: Snow ;  }

    div.white {
    border-color: Lavender  ;
    border-width: 2px; }

    div.white span.h {
    background-color: Snow       ;
    color: Black ; }

    div.red {  border-color: HotPink }

    div.red span.h {
    background-color: HotPink;
    color: LightCyan;         }

    div.yellow { border-color: GoldenRod  }

    div.yellow span.h {
    background-color: GoldenRod    ;
    color: Azure ;         }

    div.blue { border-color: DodgerBlue }

    div.blue span.h {
    background-color: DodgerBlue     ;
    color: Snow ;  }

    div.green { border-color: ForestGreen }

    div.green span.h {
    background-color: MediumSeaGreen    ;
    color: Ivory   ; }

    div.box {
    display: inline-block;
    width: 200px;
    height: 100px;
    margin: 8px;
    border-style:solid;
    border-width: 1.5px;
    position: relative;
    text-align:center;
    vertical-align: middle;  }

    div.box span.h {
    top: 0;
    left: 0;
    right: 0;
    text-align:left;
    padding: 1px 2px 2px 1px;
    position: absolute;
    font-weight:bold;
    line-height: 1em;  }


    .CodeMirror {border: 1px solid #aaa;font-size: 10pt;}

    </style>

    <link rel="stylesheet" href="http://codemirror.net/lib/codemirror.css">
    <script src="http://codemirror.net/lib/codemirror.js"></script>
    <link rel="stylesheet" href="http://codemirror.net/addon/scroll/simplescrollbars.css">
    <link rel="stylesheet" href="https://codemirror.net/addon/display/fullscreen.css">
    <script src="http://codemirror.net/addon/scroll/simplescrollbars.js"></script>
    <!--<link rel=stylesheet href="http://codemirror.net/doc/docs.css">-->
    <script src="http://codemirror.net/mode/markdown/markdown.js"></script>
    <script src="http://codemirror.net/mode/xml/xml.js"></script>
    <script src="https://codemirror.net/addon/display/placeholder.js"></script>
    <script src="https://codemirror.net/addon/display/fullscreen.js"></script>
    <script src="https://codemirror.net/mode/javascript/javascript.js"></script>
    <script src="https://codemirror.net/addon/selection/active-line.js"></script>
    <script src="https://codemirror.net/addon/edit/matchbrackets.js"></script>
    <script src="https://codemirror.net/mode/xml/xml.js"></script>
    <link rel="stylesheet" href="https://codemirror.net/theme/neat.css">
    <script src="https://codemirror.net/addon/mode/overlay.js"></script>
    <script src="https://codemirror.net/addon/mode/loadmode.js"></script>
    <script src="https://codemirror.net/mode/meta.js"></script>
    <script src="https://codemirror.net/mode/htmlmixed/htmlmixed.js"></script>
 <script type="text/javascript">
var changeMode = function(editor, value) {
  if (value.indexOf("{") !=-1) {
    editor.setOption("mode", "javascript");
    CodeMirror.autoLoadMode(editor, "javascript");
  } else {
    editor.setOption("mode", "htmlmixed");
    CodeMirror.autoLoadMode(editor, "htmlmixed");
  }
}

var codeMirrors = {};
var coverCodeMirror = function(textareaId) {
    var textarea = document.getElementById(textareaId);
    var editor = CodeMirror.fromTextArea(textarea, {
        lineNumbers: true,
        // mode: "htmlmixed",
        // fixedGutter: true,
        styleActiveLine: true,
        matchBrackets: true,
        // viewportMargin: Infinity,
        scrollbarStyle: "overlay"
    });
    // editor.setOption("theme", "neat");
    editor.setSize(textarea.style.width, textarea.style.height);
    changeMode(editor, textarea.value);
    codeMirrors[textareaId] = editor;
    editor.on('dblclick', function() {
        editor.setOption("fullScreen", !editor.getOption("fullScreen"));
    });
}

var getCodeMirrorValue = function(textareaId) {
    return codeMirrors[textareaId].getValue();
}

var setCodeMirrorValue = function(textareaId, val) {
    codeMirrors[textareaId].setValue(val);
    changeMode(codeMirrors[textareaId], val)
}

var display = function (id) {
    var json = $("#" + id).val();
    if (json) {
        var node = new PrettyJSON.view.Node({
                el:$("#display_" + id),
                data:jQuery.parseJSON(json)
        });
        node.expandAll();
    }
}

var formatXml = function(xml) {
    var formatted = '';
    var reg = /(>)(<)(\/*)/g;
    xml = xml.replace(reg, '$1\r\n$2$3');
    var pad = 0;
    jQuery.each(xml.split('\r\n'), function(index, node) {
    var indent = 0;
    if (node.match( /.+<\/\w[^>]*>$/ )) {
        indent = 0;
    } else if (node.match( /^<\/\w/ )) {
        if (pad != 0) {
            pad -= 1;
        }
    } else if (node.match( /^<\w[^>]*[^\/]>.*$/ )) {
        indent = 1;
    } else {
        indent = 0;
    }

    var padding = '';
    for (var i = 0; i < pad; i++) {
        padding += ' ';
    }

    formatted += padding + node + '\r\n';
        pad += indent;
    });

    return formatted;
}

var escapeXml = function(unsafe) {
    return unsafe.replace(/[<>&'"]/g, function (c) {
        switch (c) {
            case '<': return '&lt;';
            case '>': return '&gt;';
            case '&': return '&amp;';
            case '\'': return '&apos;';
            case '"': return '&quot;';
        }
    });
}

function execService(op, inputIds, outputId) {
    var io = {};
    io.Wsdl = 'http://eldrad.cs-i.brandeis.edu:8282/json2json/0.3.0-SNAPSHOT/services/Json2JsonWS?wsdl';
    io.Op = op
    io.Input = [];
    // push inputId value into io input
    for (var i = 0; i < inputIds.length; i++) {
        io.Input.push(getCodeMirrorValue(inputIds[i]));
    }
    // clear outputId value
    setCodeMirrorValue(outputId, '')

    var req = {};
    req.io = JSON.stringify(io);
    $.ajax({
        type: "POST",
        dataType: "text",
        url: "json2json.groovy",
        data: req,
        success: function(data, dataType) {
          var resJson = jQuery.parseJSON(data);
          if (resJson.Output) {
            if(op == 'xml2jsondsl' || op ==  'json2jsondsl' || op ==  'xml2json')
                setCodeMirrorValue(outputId, JSON.stringify(jQuery.parseJSON(resJson.Output),null,4));
            else if(op ==  'xml2xmlxsl' || op == 'json2xml')
                setCodeMirrorValue(outputId, formatXml(resJson.Output));
          } else {
                $("#"+outputId).attr("placeholder",  resJson.Except);
          }
        }
    });
}
</script>
</head>

<a name="_top_" />
<nav class="nav-bar">
    <a href="#json2jsondsl">json2jsondsl</a>
    |
    <a href="#xml2jsondsl">xml2jsondsl</a>
    |
    <a href="#xml2json">xml2json</a>
    |
    <a href="#json2xml">json2xml</a>
    |
    <a href="#xml2xmlxsl">xml2xmlxsl</a>
    |
    <a href="https://github.com/chunqishi/edu.brandeis.cs.json2json-web-service/issues" target="_blank">report bugs</a>
</nav>

<h1  align="center">JSON to JSON Transformation</h1>
<p style="text-align:center;font-size: 16pt;">
    <rt> Brandeis University</rt>,<br />
    LappsGrid, <var>Version 0.3.0</var>,  April 2015</p>



<!------------------------------------------------------------------------------------>

<a name="json2jsondsl" />
<h2>JSON to JSON by DSL<a href="#_top_" style="text-decoration: none;">^</a></h2>

<p>
<table>
    <tr> <th>Source:</th> <th>Template DSL:</th><th> </th><th>Result:</th> </tr>
    <tr>
        <td><textarea id="json2jsondsl_source" style="width:400px;height:300px;">{
  "catalog": {
    "foo:cd": [
      {
        "title": "Hide your heart",
        "artist": "Bonnie Tyler",
        "country": "UK",
        "company": "CBS Records",
        "price": "9.90",
        "bar:year": "1988"
      },
      {
        "title": "Greatest Hits",
        "artist": "Dolly Parton",
        "country": "USA",
        "company": "RCA",
        "price": "9.90",
        "bar:year": "1982"
      }
    ]
  }
}</textarea><script>coverCodeMirror("json2jsondsl_source");</script>
        </td>
        <td><textarea id="json2jsondsl_template" style="width:400px;height:300px;">cds{
    titles  &$catalog."foo:cd".foreach{&.title}
    artists  &$catalog."foo:cd".foreach{&.artist}
    countries  &$catalog."foo:cd".foreach{&.country}
    companies  &$catalog."foo:cd".foreach{&.company}
    pricees  &$catalog."foo:cd".foreach{&.price}
    years  &$catalog."foo:cd".foreach{&."bar:year"}
}</textarea><script>coverCodeMirror("json2jsondsl_template");</script></td>
        <td><input type="button" value="Transform"
                   onclick="execService('json2jsondsl', ['json2jsondsl_source', 'json2jsondsl_template'], 'json2jsondsl_result')" /></td>
        <td><textarea  id="json2jsondsl_result"  style="width:400px;height:300px;"></textarea>
            <script>coverCodeMirror("json2jsondsl_result");</script></td>
    </tr>
</table>

<hr/>

<!-- ============================================================================================================== -->
<input type="button" value="More Examples ..." onclick="$('#json2jsondsl_examples').toggle()">
<div id="json2jsondsl_examples">

    <h3>Read Source JSON [global(&$), local(&.), supporting select{} sort{} foreach{} sum{}]</h3>
    <table>
        <tr> <th>Source:</th> <th>Template DSL:</th><th> </th><th>Result:</th> </tr>
        <tr>
            <td><textarea id="json2jsondsl_example1_source" style="width:400px;height:200px;">{
  "catalog": {
    "foo:cd": [
      {
        "title": "Hide your heart",
        "artist": "Bonnie Tyler",
        "country": "UK",
        "company": "CBS Records",
        "price": "9.90",
        "bar:year": "1988"
      },
      {
        "title": "Greatest Hits",
        "artist": "Dolly Parton",
        "country": "USA",
        "company": "RCA",
        "price": "9.90",
        "bar:year": "1982"
      }
    ]
  }
}</textarea><script>coverCodeMirror("json2jsondsl_example1_source");</script>
            </td>
            <td><textarea id="json2jsondsl_example1_template"
                          style="width:400px;height:200px;">MyCDs ( &$catalog."foo:cd".select{ &.artist == "Dolly Parton" } )
            </textarea><script>coverCodeMirror("json2jsondsl_example1_template");</script></td>
            <td><input type="button" value="Transform"
                       onclick="execService('json2jsondsl', ['json2jsondsl_example1_source', 'json2jsondsl_example1_template'], 'json2jsondsl_example1_result')" /></td>
            <td><textarea  id="json2jsondsl_example1_result"  style="width:400px;height:200px;"></textarea>
                <script>coverCodeMirror("json2jsondsl_example1_result");</script></td>
        </tr>
    </table>

    <!------------------------------------------------------------------------------------>


    <h3>List Operation, supporting + (merge)</h3>
    <table>
        <tr> <th>Source:</th> <th>Template DSL:</th><th> </th><th>Result:</th> </tr>
        <tr>
            <td><textarea id="json2jsondsl_example2_source" style="width:400px;height:200px;">{
  "catalog": {
    "foo:cd": [
      {
        "title": "Hide your heart",
        "artist": "Bonnie Tyler",
        "country": "UK",
        "company": "CBS Records",
        "price": "9.90",
        "bar:year": "1988"
      },
      {
        "title": "Greatest Hits",
        "artist": "Dolly Parton",
        "country": "USA",
        "company": "RCA",
        "price": "9.90",
        "bar:year": "1982"
      }
    ]
  }
}</textarea><script>coverCodeMirror("json2jsondsl_example2_source");</script>
            </td>
            <td><textarea id="json2jsondsl_example2_template" style="width:400px;height:200px;">MyCDs{
    titles  ( &$catalog."foo:cd".foreach{&.title} + ["mytitle1", "mytitle2"] )
}</textarea><script>coverCodeMirror("json2jsondsl_example2_template");</script></td>
            <td><input type="button" value="Transform"
                       onclick="execService('json2jsondsl', ['json2jsondsl_example2_source', 'json2jsondsl_example2_template'], 'json2jsondsl_example2_result')" /></td>
            <td><textarea  id="json2jsondsl_example2_result"  style="width:400px;height:200px;"></textarea>
                <script>coverCodeMirror("json2jsondsl_example2_result");</script></td>
        </tr>
    </table>

    <!------------------------------------------------------------------------------------>
    <!------------------------------------------------------------------------------------>


    <h3>Gate JSON to LIF</h3>
    <table>
        <tr> <th>Source:</th> <th>Template DSL:</th><th> </th><th>Result:</th> </tr>
        <tr>
            <td><textarea id="json2jsondsl_example3_source" style="width:400px;height:200px;">{
    "GateDocument": {
        "@version": "3",
        "#comment": [
            " The document's features",
            " The document content area with serialized nodes ",
            " The default annotation set "
        ],
        "GateDocumentFeatures": {
            "Feature": {
                "Name": {
                    "@className": "java.lang.String",
                    "__text__": "gate.SourceURL"
                },
                "Value": {
                    "@className": "java.lang.String",
                    "__text__": "created from String"
                }
            }
        },
        "TextWithNodes": {
            "Node": [
                {
                    "__tail__": "Mike",
                    "@id": "0"
                },
                {
                    "__tail__": ".",
                    "@id": "4"
                },
                {
                    "@id": "5"
                }
            ]
        },
        "AnnotationSet": {
            "Annotation": [
                {
                    "@EndNode": "4",
                    "@Id": "0",
                    "@StartNode": "0",
                    "@Type": "Token",
                    "Feature": [
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "length"
                            },
                            "Value": {
                                "@className": "java.lang.Integer",
                                "__text__": "4"
                            }
                        },
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "chunk"
                            },
                            "Value": {
                                "@className": "java.lang.String",
                                "__text__": "B-NP"
                            }
                        },
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "category"
                            },
                            "Value": {
                                "@className": "java.lang.String",
                                "__text__": "NNP"
                            }
                        },
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "source"
                            },
                            "Value": {
                                "@className": "java.lang.String",
                                "__text__": "OpenNLP"
                            }
                        },
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "string"
                            },
                            "Value": {
                                "@className": "java.lang.String",
                                "__text__": "Mike"
                            }
                        }
                    ]
                },
                {
                    "@EndNode": "5",
                    "@Id": "1",
                    "@StartNode": "4",
                    "@Type": "Token",
                    "Feature": [
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "length"
                            },
                            "Value": {
                                "@className": "java.lang.Integer",
                                "__text__": "1"
                            }
                        },
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "chunk"
                            },
                            "Value": {
                                "@className": "java.lang.String",
                                "__text__": "O"
                            }
                        },
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "category"
                            },
                            "Value": {
                                "@className": "java.lang.String",
                                "__text__": "."
                            }
                        },
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "source"
                            },
                            "Value": {
                                "@className": "java.lang.String",
                                "__text__": "OpenNLP"
                            }
                        },
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "string"
                            },
                            "Value": {
                                "@className": "java.lang.String",
                                "__text__": "."
                            }
                        }
                    ]
                },
                {
                    "@EndNode": "5",
                    "@Id": "2",
                    "@StartNode": "0",
                    "@Type": "Sentence",
                    "Feature": {
                        "Name": {
                            "@className": "java.lang.String",
                            "__text__": "source"
                        },
                        "Value": {
                            "@className": "java.lang.String",
                            "__text__": "OpenNLP"
                        }
                    }
                },
                {
                    "@EndNode": "5",
                    "@Id": "3",
                    "@StartNode": "4",
                    "@Type": "Split",
                    "Feature": [
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "source"
                            },
                            "Value": {
                                "@className": "java.lang.String",
                                "__text__": "OpenNLP"
                            }
                        },
                        {
                            "Name": {
                                "@className": "java.lang.String",
                                "__text__": "kind"
                            },
                            "Value": {
                                "@className": "java.lang.String",
                                "__text__": "internal"
                            }
                        }
                    ]
                },
                {
                    "@EndNode": "4",
                    "@Id": "4",
                    "@StartNode": "0",
                    "@Type": "NP"
                },
                {
                    "@EndNode": "4",
                    "@Id": "5",
                    "@StartNode": "0",
                    "@Type": "Person",
                    "Feature": {
                        "Name": {
                            "@className": "java.lang.String",
                            "__text__": "source"
                        },
                        "Value": {
                            "@className": "java.lang.String",
                            "__text__": "OpenNLP"
                        }
                    }
                }
            ]
        }
    }
}</textarea><script>coverCodeMirror("json2jsondsl_example3_source");</script>
            </td>
            <td><textarea id="json2jsondsl_example3_template" style="width:400px;height:200px;">{
discriminator "http://vocab.lappsgrid.org/ns/media/jsonld"
payload {
    "@context" "http://vocab.lappsgrid.org/context-1.0.0.jsonld"
	metadata {}
    text {
    	"@value" &$GateDocument.TextWithNodes.Node.select{&."__tail__" != null}.sum { &."__tail__"+" " }
    }
    views ([
    	[
          metadata:{ contains { "http://vocab.lappsgrid.org/NamedEntity" {
                                producer "edu.brandeis.cs.lappsgrid.opennlp.json2json:0.2.0"
                                type "ner:opennlp"
          }}},
          annotations: (
          	&$GateDocument.AnnotationSet.Annotation.select{&."@Type"=="Token"}.foreach{
          		[
            	start: &."@StartNode",
            	end: &."@EndNode",
	          	label: "http://vocab.lappsgrid.org/NamedEntity",
                features: [
                			word:&.Feature.select{&.Name.__text__=="string"}.Value.__text__[0],
                            category:&.Feature.select{&.Name.__text__=="category"}.Value.__text__[0]
                          ]

                ]
            }
          )
       ]
    ])
 }
}</textarea><script>coverCodeMirror("json2jsondsl_example3_template");</script></td>
            <td><input type="button" value="Transform"
                       onclick="execService('json2jsondsl', ['json2jsondsl_example3_source', 'json2jsondsl_example3_template'], 'json2jsondsl_example3_result')" /></td>
            <td><textarea  id="json2jsondsl_example3_result"  style="width:400px;height:200px;"></textarea>
                <script>coverCodeMirror("json2jsondsl_example3_result");</script></td>
        </tr>
    </table>

    <!------------------------------------------------------------------------------------>

    <p><input type="button" value="Hide Examples ..." onclick="$('#json2jsondsl_examples').toggle()">
    </p>
</div>

<!-- ============================================================================================================== -->

<a name="xml2jsondsl" />
<h2>XML to JSON by DSL<a href="#_top_" style="text-decoration: none;">^</a></h2>

<p>
<table>
    <tr> <th>XML:</th> <th>Template DSL:</th><th> </th><th>Result:</th> </tr>
    <tr>
        <td><textarea id="xml2jsondsl_source" style="width:400px;height:300px;">&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;catalog&gt;
 &lt;cd&gt;
  &lt;title&gt;Hide your heart&lt;/title&gt;
  &lt;artist&gt;Bonnie Tyler&lt;/artist&gt;
  &lt;country&gt;UK&lt;/country&gt;
  &lt;company&gt;CBS Records&lt;/company&gt;
  &lt;price&gt;9.90&lt;/price&gt;
  &lt;year&gt;1988&lt;/year&gt;
 &lt;/cd&gt;
 &lt;cd&gt;
  &lt;title&gt;Greatest Hits&lt;/title&gt;
  &lt;artist&gt;Dolly Parton&lt;/artist&gt;
  &lt;country&gt;USA&lt;/country&gt;
  &lt;company&gt;RCA&lt;/company&gt;
  &lt;price&gt;9.90&lt;/price&gt;
  &lt;year&gt;1982&lt;/year&gt;
 &lt;/cd&gt;
&lt;/catalog&gt;</textarea><script>coverCodeMirror("xml2jsondsl_source");</script>
        </td>
        <td><textarea id="xml2jsondsl_template" style="width:400px;height:300px;">cds{
    titles  &$"cd".foreach{&.title}
    artists  &$"cd".foreach{&.artist}
    countries  &$"cd".foreach{&.country}
    companies  &$"cd".foreach{&.company}
    pricees  &$"cd".foreach{&.price}
    years  &$"cd".foreach{&."year"}
}</textarea><script>coverCodeMirror("xml2jsondsl_template");</script></td>
        <td><input type="button" value="Transform"
                   onclick="execService('xml2jsondsl', ['xml2jsondsl_source', 'xml2jsondsl_template'], 'xml2jsondsl_result')" /></td>
        <td><textarea  id="xml2jsondsl_result"  style="width:400px;height:300px;"></textarea>
            <script>coverCodeMirror("xml2jsondsl_result");</script></td>
    </tr>
</table>

<hr/>




<!-- ============================================================================================================== -->
<a name="xml2json" />
<h2> XML to JSON <a href="#_top_" style="text-decoration: none;">^</a></h2>
<table>

    <tr><th>XML: </th><th></th><th> JSON:</th></tr>
    <tr>
        <td><textarea id="xml2json_source"
                      style="width:400px;height:300px;">&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;
&lt;GateDocument version=&quot;3&quot;&gt;
&lt;!-- The document&apos;s features--&gt;

&lt;GateDocumentFeatures&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;gate.SourceURL&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;created from String&lt;/Value&gt;
&lt;/Feature&gt;
&lt;/GateDocumentFeatures&gt;
&lt;!-- The document content area with serialized nodes --&gt;

&lt;TextWithNodes&gt;
&lt;Node id=&quot;0&quot;/&gt;Mike&lt;Node id=&quot;4&quot;/&gt;.&lt;Node id=&quot;5&quot;/&gt;

    &lt;/TextWithNodes&gt;
&lt;!-- The default annotation set --&gt;

&lt;AnnotationSet&gt;
&lt;Annotation Id=&quot;0&quot; Type=&quot;Token&quot; StartNode=&quot;0&quot; EndNode=&quot;4&quot;&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;length&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.Integer&quot;&gt;4&lt;/Value&gt;
&lt;/Feature&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;chunk&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;B-NP&lt;/Value&gt;
&lt;/Feature&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;category&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;NNP&lt;/Value&gt;
&lt;/Feature&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;source&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;OpenNLP&lt;/Value&gt;
&lt;/Feature&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;string&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;Mike&lt;/Value&gt;
&lt;/Feature&gt;
&lt;/Annotation&gt;
&lt;Annotation Id=&quot;1&quot; Type=&quot;Token&quot; StartNode=&quot;4&quot; EndNode=&quot;5&quot;&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;length&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.Integer&quot;&gt;1&lt;/Value&gt;
&lt;/Feature&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;chunk&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;O&lt;/Value&gt;
&lt;/Feature&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;category&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;.&lt;/Value&gt;
&lt;/Feature&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;source&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;OpenNLP&lt;/Value&gt;
&lt;/Feature&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;string&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;.&lt;/Value&gt;
&lt;/Feature&gt;
&lt;/Annotation&gt;
&lt;Annotation Id=&quot;2&quot; Type=&quot;Sentence&quot; StartNode=&quot;0&quot; EndNode=&quot;5&quot;&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;source&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;OpenNLP&lt;/Value&gt;
&lt;/Feature&gt;
&lt;/Annotation&gt;
&lt;Annotation Id=&quot;3&quot; Type=&quot;Split&quot; StartNode=&quot;4&quot; EndNode=&quot;5&quot;&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;source&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;OpenNLP&lt;/Value&gt;
&lt;/Feature&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;kind&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;internal&lt;/Value&gt;
&lt;/Feature&gt;
&lt;/Annotation&gt;
&lt;Annotation Id=&quot;4&quot; Type=&quot;NP&quot; StartNode=&quot;0&quot; EndNode=&quot;4&quot;&gt;
&lt;/Annotation&gt;
&lt;Annotation Id=&quot;5&quot; Type=&quot;Person&quot; StartNode=&quot;0&quot; EndNode=&quot;4&quot;&gt;
&lt;Feature&gt;
  &lt;Name className=&quot;java.lang.String&quot;&gt;source&lt;/Name&gt;
  &lt;Value className=&quot;java.lang.String&quot;&gt;OpenNLP&lt;/Value&gt;
&lt;/Feature&gt;
&lt;/Annotation&gt;
&lt;/AnnotationSet&gt;

&lt;/GateDocument&gt;</textarea><script>coverCodeMirror("xml2json_source")</script></td>
        <td><input type="button" value="Convert"
                   onclick="execService('xml2json', ['xml2json_source'], 'xml2json_result')" /></td>
        <td><textarea id="xml2json_result" style="width:400px;height:300px;"></textarea>
            <script>coverCodeMirror("xml2json_result")</script></td>
    </tr>
</table>
<!------------------------------------------------------------------------------------>
<hr/>

<!-- ============================================================================================================== -->
<a name="json2xml" />
<h2> JSON to XML <a href="#_top_" style="text-decoration: none;">^</a></h2>
<table>

    <tr><th>JSON: </th><th></th><th> XML:</th></tr>
    <tr>
        <td><textarea id="json2xml_source" style="width:400px;height:300px;"></textarea>
            <script>coverCodeMirror("json2xml_source")</script></td>
        <td><input type="button" value="Convert"
                   onclick="execService('json2xml', ['json2xml_source'],'json2xml_result')" /></td>
        <td><textarea id="json2xml_result"  style="width:400px;height:300px;"></textarea>
            <script>coverCodeMirror("json2xml_result")</script></td>
    </tr>
</table>
<!------------------------------------------------------------------------------------>
<hr/>

<!-- ============================================================================================================== -->
<a name="xml2xmlxsl" />
<h2> XML to XML by XSL <a href="#_top_" style="text-decoration: none;">^</a></h2>
<p>
<table>
    <tr><th>XML: </th><th> XSL:</th><th> </th><th>Result</th></tr>
    <tr>
        <td><textarea id="xml2xmlxsl_source" style="width:400px;height:300px;"></textarea>
            <script>coverCodeMirror("xml2xmlxsl_source")</script></td>
        <td><textarea id="xml2xmlxsl_template" style="width:400px;height:300px;"></textarea>
            <script>coverCodeMirror("xml2xmlxsl_template")</script></td>
        <td><input type="button" value="Transform"
                   onclick="execService('xml2xmlxsl', ['xml2xmlxsl_source', 'xml2xmlxsl_template'],'xml2xmlxsl_result')" /></td>
        <td><textarea  id="xml2xmlxsl_result"  style="width:400px;height:300px;"> </textarea>
            <script>coverCodeMirror("xml2xmlxsl_result")</script></td>
    </tr>
</table>


<!------------------------------------------------------------------------------------>
<!-- ============================================================================================================== -->
<!------------------------------------------------------------------------------------>



<!------------------------------------------------------------------------------------>
    <footer><hr/>
        <!--<p>-->
            <!--Progress:-->
            <!--<progress value="1" max="100"></progress></p>-->
        <p>
            Contacts:
            <nonsense>shi</nonsense>cq@<nonsense>cs.</nonsense>brandeis.<nonsense></nonsense>edu,
            <nonsense>mar</nonsense>c@<nonsense>cs.</nonsense>brandeis.<nonsense></nonsense>edu  </p></footer>

</body></html>
