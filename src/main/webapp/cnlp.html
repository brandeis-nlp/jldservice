<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script src="js/clearnlp_demo.js" type="text/javascript"></script>

    <!-- =============================================================================================================== -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="css/theme.css" rel="stylesheet">
    <script src="js/jquery_1.11.3_jquery-1.11.3.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <!-- =============================================================================================================== -->
    <link rel="stylesheet" href="css/codemirror.css">
    <link rel="stylesheet" href="css/simplescrollbars.css">
    <link rel="stylesheet" href="css/fullscreen.css">
    <link rel="stylesheet" href="css/dialog.css">
    <link rel="stylesheet" href="css/matchesonscrollbar.css">
    <link rel="stylesheet" href="css/foldgutter.css" />
    <script src="js/codemirror.js"></script>
    <script src="js/simplescrollbars.js"></script>
    <script src="js/markdown.js"></script>
    <script src="js/xml.js"></script>
    <script src="js/placeholder.js"></script>
    <script src="js/fullscreen.js"></script>
    <script src="js/javascript.js"></script>
    <script src="js/active-line.js"></script>
    <script src="js/matchbrackets.js"></script>
    <script src="js/overlay.js"></script>
    <script src="js/loadmode.js"></script>
    <script src="js/meta.js"></script>
    <script src="js/htmlmixed.js"></script>
    <script src="js/dialog.js"></script>
    <script src="js/searchcursor.js"></script>
    <script src="js/search.js"></script>
    <script src="js/annotatescrollbar.js"></script>
    <script src="js/foldcode.js"></script>
    <script src="js/foldgutter.js"></script>
    <script src="js/brace-fold.js"></script>
    <script src="js/xml-fold.js"></script>
    <script src="js/markdown-fold.js"></script>
    <script src="js/comment-fold.js"></script>
    <script src="js/matchesonscrollbar.js"></script>
    <script src="js/typo.js"></script>

    <script type="text/javascript" src="js/head.load.min.js"></script>

    <!-- =============================================================================================================== -->

    <script type="text/javascript">

        // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> //
        // CodeMirror
        var changeMode = function(editor, value) {
            if (value.trim().substr(0, 1) == "{" && editor.getOption("mode") != "javascript") {
                editor.setOption("mode", "javascript");
                CodeMirror.autoLoadMode(editor, "javascript");
            }
        }

        var codeMirrors = {};

        var coverCodeMirror = function(textareaId) {
            if("undefined"==typeof CodeMirror)
                throw new Error("Lapps JavaScript requires CodeMirror(http://codemirror.net/)");
            var textarea = document.getElementById(textareaId);
            var editor = CodeMirror.fromTextArea(textarea, {
                mode: "javascript",
                lineNumbers: true,
                lineWrapping: true,
                styleActiveLine: true,
                matchBrackets: true,
                scrollbarStyle: "overlay",
                foldGutter: true,
                gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
            });
            // editor.setOption("theme", "neat");
            editor.setSize(textarea.style.width, textarea.style.height);
            codeMirrors[textareaId] = editor;
            editor.on('dblclick', function() {
                editor.setOption("fullScreen", !editor.getOption("fullScreen"));
            });
            editor.on("viewportChange", function(){
                editor.refresh();
            });
            return editor;
        }

        var getCodeMirrorValue = function(textareaId) {
            return codeMirrors[textareaId].getValue();
        }

        var setCodeMirrorValue = function(textareaId, val) {
            codeMirrors[textareaId].setValue(val);
            codeMirrors[textareaId].refresh();
        }

        // <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<  //



    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> //


    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> //
    head.ready(function() {
    // <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< //
        window.addEventListener("resize", function(e){
                var myCanvas = document.getElementById("cv_deptree");
                myCanvas.width = document.documentElement.clientWidth;
                myCanvas.height = document.documentElement.clientHeight;
                myCanvas.width = window.innerWidth;
                myCanvas.height = window.innerHeight;
                }, false);
    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> //
    });  // {head.ready}
    // <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<  //
    </script>

<!-- =============================================================================================================== -->
<!-- =============================================================================================================== -->
    <style  type="text/css">
        #css_deptree_canvas
        {
            width: 86%;
            margin-left: 10px;
            margin-right: auto;
            border: solid 1px #BDBDBD;
            background-color: white;
            overflow:scroll;
        }
    </style>
    <title>ClearNLP Visualization</title>
</head>

<body>

<h1  align="center">ClearNLP Visualization</h1>
<!--<p style="text-align:center;font-size: 16pt;">-->
    <!--<rt> Brandeis University</rt>,<br />-->
    <!--LappsGrid, <var>Version 0.3.0</var>,  April 2015</p>-->

<!--<h2 align="center">-->
    <!--<span class="label label-primary" style="width:800px;display:inline-block;">-->
    <!--ClearNLP Visualization-->
<!--</span></h2>-->



<table class="table table-bordered table-striped responsive-utilities" align="center" style="width:86%;"><tr>
<th>OPEN CNLP File ...</th><th>Tools</th><th>Move</th><th>Scale</th>
    </tr><tr>
    <td><input type="file" onchange="readFileTo(this.files[0], function(res){ setCodeMirrorValue('ta_input', res); } );"/>
    </td>
    <td><button  class="btn btn-default" type="button" onclick="initDEPTrees(getCodeMirrorValue('ta_input'));" style="width:110px;height:30px;font-family:times;font-size:14px;">Process</button><br>
        <button  class="btn btn-default" type="button" onclick="exportCanvas();" style="width:110px;height:30px;font-family:times;font-size:14px;">Export to PNG</button><br><br>
    </td>
    <td>
        <div align="center">
            <button  class="btn btn-default"  onclick="clickBackward();" style="width:55px;height:48px" type="button">&lt;&lt;</button>
            <button  class="btn btn-default"  onclick="clickPrevious();" style="width:55px;height:48px" type="button">&lt;</button>
            <button  class="btn btn-default"  onclick="clickNext();"     style="width:55px;height:48px" type="button">&gt;</button>
            <button  class="btn btn-default"  onclick="clickForward();"  style="width:55px;height:48px" type="button">&gt;&gt;</button>
        </div></td>
    <td>1 &#8672; Zoom &#8674; 4<br>
        <input id="rg_deptree" type="range" width="100" min="1" max="4" step="0.2" value="1" onchange="selectTreeID()" oninput="changeZoom(this.value)"><br>
    </td>
</tr></table>


<table class="table table-bordered" style="width:86%;margin-left:96px;">
<tr><th>NO.</th><th>Tree View</th></tr>
    <tr>
<td style="vertical-align:top;width:80px;">
    <select id="st_treeId" multiple="multiple" onchange="selectTreeID();" style="width:80px; height:400px"></select>
</td>
<td align="left">
<div id="css_deptree_canvas">
    <canvas id="cv_deptree" style=" height:400px"></canvas>
</div>
</td>
</tr></table>

<table class="table table-bordered" align="center" style="width:86%;"><tr>
    <th>FILE</th>
</tr><tr>
    <td>
        <textarea id="ta_input"  style="height:615px"></textarea><script>coverCodeMirror("ta_input");</script>
    </td>
</tr></table>

<!-- =============================================================================================================== -->
<!-- =============================================================================================================== -->
<footer>
    <hr />
    <p style="text-align:center">
        Contacts:
        <br/>&nbsp; &nbsp; <a target="_blank" class="nolink" href="http://www.cs.brandeis.edu/~jamesp/"> James Pustejovsky</a>
        (<nonsense>jame</nonsense>sp@<nonsense>cs.</nonsense>brandeis.<nonsense></nonsense>edu)
    </p>
</footer>
<p style="text-align:center">Copyright &copy; 2015 Brandeis University - All Rights Reserved</p>
</body>
</html>